/*! enscroll - v0.6.0 - 2014-02-27
* Copyright (c) 2014 ; Licensed  */!function(e,t,n,s){var O={verticalScrolling:!0,horizontalScrolling:!1,verticalScrollerSide:"right",showOnHover:!1,scrollIncrement:20,minScrollbarLength:40,pollChanges:!0,drawCorner:!0,drawScrollButtons:!1,clickTrackToScroll:!0,easingDuration:500,propagateWheelEvent:!0,verticalTrackClass:"vertical-track",horizontalTrackClass:"horizontal-track",horizontalHandleClass:"horizontal-handle",verticalHandleClass:"vertical-handle",scrollUpButtonClass:"scroll-up-btn",scrollDownButtonClass:"scroll-down-btn",scrollLeftButtonClass:"scroll-left-btn",scrollRightButtonClass:"scroll-right-btn",cornerClass:"scrollbar-corner",zIndex:1,addPaddingToPane:!0,horizontalHandleHTML:'<div class="left"></div><div class="right"></div>',verticalHandleHTML:'<div class="top"></div><div class="bottom"></div>'},p=function(e){e.preventDefault?e.preventDefault():e.returnValue=!1,e.stopPropagation?e.stopPropagation():e.cancelBubble=!0},o=t.requestAnimationFrame||t.mozRequestAnimationFrame||t.webkitRequestAnimationFrame||t.oRequestAnimationFrame||t.msRequestAnimationFrame||function(e){setTimeout(e,17)},a=function(t,n){var o=e(t).css(n),s=/^-?\d+/.exec(o);return s?+s[0]:0},k=function(e){var n,s,o={width:"5px",height:"1px",overflow:"hidden",padding:"8px 0",visibility:"hidden",whiteSpace:"pre-line",font:"10px/1 serif"},t=document.createElement(e),i=document.createTextNode(`a
a`);for(n in o)t.style[n]=o[n];return t.appendChild(i),document.body.appendChild(t),s=t.scrollHeight<28,document.body.removeChild(t),s},E=.5*Math.PI,b=10*Math.log(2),m=function(e,t,n){var s=E/t,o=e*s;return Math.round(o*Math.cos(s*n))},_=function(e,t,n){return Math.round(e*b*Math.pow(2,-10*n/t+1)/t)},g=function(e,t,n,s){return 2*n/Math.PI*Math.asin((s-e)/t)},i=function(t){var n=e(this).data("enscroll"),o=this,s=n.settings,i=function(){var t=e(this).data("enscroll"),n=t.settings;t&&n.showOnHover&&(n.verticalScrolling&&e(t.verticalTrackWrapper).is(":visible")&&e(t.verticalTrackWrapper).stop().fadeTo(275,0),n.horizontalScrolling&&e(t.horizontalTrackWrapper).is(":visible")&&e(t.horizontalTrackWrapper).stop().fadeTo(275,0),t._fadeTimer=null)};n&&s.showOnHover&&(n._fadeTimer?clearTimeout(n._fadeTimer):(s.verticalScrolling&&e(n.verticalTrackWrapper).is(":visible")&&e(n.verticalTrackWrapper).stop().fadeTo(275,1),s.horizontalScrolling&&e(n.horizontalTrackWrapper).is(":visible")&&e(n.horizontalTrackWrapper).stop().fadeTo(275,1)),t!==!1&&(n._fadeTimer=setTimeout(function(){i.call(o)},1750)))},u=function(t,n){var s=e(t),o=s.data("enscroll"),a=s.scrollTop();o&&o.settings.verticalScrolling&&(s.scrollTop(a+n),o.settings.showOnHover&&i.call(t))},d=function(t,n){var s=e(t),o=s.data("enscroll"),a=s.scrollLeft();o&&o.settings.horizontalScrolling&&(s.scrollLeft(a+n),o.settings.showOnHover&&i.call(t))},y=function(t){if(1===t.which){var s,a,r,m,p,g,v,b,j,d=t.data.pane,u=e(d),l=u.data("enscroll"),h=!0,y=function(){h&&(s!==j&&(l._scrollingY||(l._scrollingY=!0,l._startY=u.scrollTop(),o(function(){c(u)})),a.style.top=s+"px",l._endY=s*g/m,j=s),o(y),l.settings.showOnHover&&i.call(d))},w=function(e){return h&&(s=e.clientY-b-p,s=Math.min(0>s?0:s,m)),!1},_=function(){return h=!1,n.body.style.cursor=v,this.style.cursor="",r.removeClass("dragging"),e(n.body).off("mousemove.enscroll.vertical").off("mouseup.enscroll.vertical"),e(n).off("mouseout.enscroll.vertical"),u.on("scroll.enscroll.pane",function(e){f.call(this,e)}),!1};return r=e(l.verticalTrackWrapper).find(".enscroll-track"),a=r.children().first()[0],s=parseInt(a.style.top,10),g=d.scrollHeight-(l._scrollHeightNoPadding?e(d).height():e(d).innerHeight()),p=t.clientY-e(a).offset().top,m=r.height()-e(a).outerHeight(),b=r.offset().top,u.off("scroll.enscroll.pane"),e(n.body).on({"mousemove.enscroll.vertical":w,"mouseup.enscroll.vertical":function(e){_.call(a,e)}}),e(n).on("mouseout.enscroll.vertical",function(e){e.target.nodeName&&"HTML"===e.target.nodeName.toUpperCase()&&_.call(a,e)}),r.hasClass("dragging")||(r.addClass("dragging"),v=e(n.body).css("cursor"),this.style.cursor=n.body.style.cursor="ns-resize"),o(y),!1}},j=function(t){if(1===t.which){var s,a,r,m,p,g,v,b,j,d=t.data.pane,u=e(d),l=e(d).data("enscroll"),h=!0,y=function(){h&&(s!==j&&(l._scrollingX||(l._scrollingX=!0,l._startX=u.scrollLeft(),o(function(){c(u)})),r.style.left=s+"px",l._endX=s*b/m,j=s),o(y),l.settings.showOnHover&&i.call(d))},w=function(e){return h&&(s=e.clientX-g-v,s=Math.min(0>s?0:s,m)),!1},_=function(){return h=!1,a.removeClass("dragging"),n.body.style.cursor=p,this.style.cursor="",a.removeClass("dragging"),e(n.body).off("mousemove.enscroll.horizontal").off("mouseup.enscroll.horizontal"),e(n).off("mouseout.enscroll.horizontal"),u.on("scroll.enscroll.pane",function(e){f.call(this,e)}),!1};return a=e(l.horizontalTrackWrapper).find(".enscroll-track"),r=a.children().first()[0],s=parseInt(r.style.left,10),b=d.scrollWidth-e(d).innerWidth(),v=t.clientX-e(r).offset().left,m=a.width()-e(r).outerWidth(),g=a.offset().left,u.off("scroll.enscroll.pane"),e(n.body).on({"mousemove.enscroll.horizontal":w,"mouseup.enscroll.horizontal":function(e){_.call(r,e)}}),e(n).on("mouseout.enscroll.horizontal",function(e){e.target.nodeName&&"HTML"===e.target.nodeName.toUpperCase()&&_.call(r,e)}),a.hasClass("dragging")||(a.addClass("dragging"),p=e("body").css("cursor"),this.style.cursor=n.body.style.cursor="ew-resize"),o(y),!1}},c=function(e){var n,s,i,t=e.data("enscroll"),a=t._duration;t._scrollingX===!0&&(n=t._endX-t._startX,0===n?t._scrollingX=!1:(s=e.scrollLeft(),i=g(t._startX,n,a,s),n>0?s>=t._endX||s<t._startX?t._scrollingX=!1:(d(e,Math.max(1,m(n,a,i))),o(function(){c(e)})):s<=t._endX||s>t._startX?t._scrollingX=!1:(d(e,Math.min(-1,m(n,a,i))),o(function(){c(e)})))),t._scrollingY===!0&&(n=t._endY-t._startY,0===n?t._scrollingY=!1:(s=e.scrollTop(),i=g(t._startY,n,a,s),n>0?s>=t._endY||s<t._startY?t._scrollingY=!1:(u(e,Math.max(1,m(n,a,i))),o(function(){c(e)})):s<=t._endY||s>t._startY?t._scrollingY=!1:(u(e,Math.min(-1,m(n,a,i))),o(function(){c(e)}))))},h=function(e,t){var n=e.data("enscroll"),s=e.scrollLeft(),i=e[0].scrollWidth-e.innerWidth();return!!n.settings.horizontalScrolling&&!n._scrollingY&&(n._scrollingX||(n._scrollingX=!0,n._startX=s,n._endX=n._startX,o(function(){c(e)})),n._endX=t>0?Math.min(s+t,i):Math.max(0,s+t),0>t&&s>0||t>0&&i>s)},l=function(e,t){var n=e.data("enscroll"),s=e.scrollTop(),i=e[0].scrollHeight-(n._scrollHeightNoPadding?e.height():e.innerHeight());return!!n.settings.verticalScrolling&&!n._scrollingX&&(n._scrollingY||(n._scrollingY=!0,n._startY=s,n._endY=n._startY,o(function(){c(e)})),n._endY=t>0?Math.min(s+t,i):Math.max(0,s+t),0>t&&s>0||t>0&&i>s)},w=function(t){var n,o=e(this),i=o.data("enscroll"),s=i.settings.scrollIncrement,a="deltaX"in t?-t.deltaX:"wheelDeltaX"in t?t.wheelDeltaX:0,r="deltaY"in t?-t.deltaY:"wheelDeltaY"in t?t.wheelDeltaY:"wheelDelta"in t?t.wheelDelta:0;Math.abs(a)>Math.abs(r)?(n=(a>0?-s:s)<<2,(h(o,n)||!i.settings.propagateWheelEvent)&&p(t)):(n=(r>0?-s:s)<<2,(l(o,n)||!i.settings.propagateWheelEvent)&&p(t))},f=function(){var t,n,s,o=e(this),i=o.data("enscroll");i&&(i.settings.verticalScrolling&&(s=e(i.verticalTrackWrapper).find(".enscroll-track")[0],n=s.firstChild,t=o.scrollTop()/(this.scrollHeight-(i._scrollHeightNoPadding?o.height():o.innerHeight())),t=isNaN(t)?0:t,n.style.top=t*(e(s).height()-e(n).outerHeight())+"px"),i.settings.horizontalScrolling&&(s=e(i.horizontalTrackWrapper).find(".enscroll-track")[0],n=s.firstChild,t=o.scrollLeft()/(this.scrollWidth-o.innerWidth()),t=isNaN(t)?0:t,n.style.left=t*(e(s).width()-e(n).innerWidth())+"px"))},x=function(t){var s,n=e(this),o=n.data("enscroll");if(!/(input)|(select)|(textarea)/i.test(this.nodeName)&&t.target===this&&o){switch(s=o.settings.scrollIncrement,t.keyCode){case 32:case 34:return l(n,n.height()),!1;case 33:return l(n,-n.height()),!1;case 35:return l(n,this.scrollHeight),!1;case 36:return l(n,-this.scrollHeight),!1;case 37:return h(n,-s),!1;case 38:return l(n,-s),!1;case 39:return h(n,s),!1;case 40:return l(n,s),!1}return!0}},C=function(){var t=this,c=e(t).data("enscroll").settings,l=!0,s=0,i=0,a=e(t).offset().top,h=a+e(t).outerHeight(),r=e(t).offset().left,m=r+e(t).outerWidth(),p=function(e){var t=e.pageX,n=e.pageY;s=r>t?t-r:t>m?t-m:0,i=a>n?n-a:n>h?n-h:0},f=function(){c.horizontalScrolling&&s&&d(t,parseInt(s/4,10)),c.verticalScrolling&&i&&u(t,parseInt(i/4,10)),l&&o(f)},g=function(){l=!1,e(n).off("mousemove.enscroll.pane").off("mouseup.enscroll.pane")};o(f),e(n).on({"mousemove.enscroll.pane":p,"mouseup.enscroll.pane":g})},v=function(e){var t,n,i,a,r,c,l,h=this,m=function(e){t=e.touches[0].clientX,n=e.touches[0].clientY,r||(r=n===a&&t===i?s:Math.abs(a-n)>Math.abs(i-t)?"y":"x"),p(e)},f=function(){c&&("y"===r?(u(h,a-n),l=a-n,a=n):"x"===r&&(d(h,i-t),l=i-t,i=t),o(f))},g=function(){var e=0,t=Math.abs(1.5*l);this.removeEventListener("touchmove",m,!1),this.removeEventListener("touchend",g,!1),c=!1,o(function n(){var s;e===t||c||(s=_(l,t,e),isNaN(s)||0===s||(e+=1,"y"===r?u(h,s):d(h,s),o(n)))})};1===e.touches.length&&(i=e.touches[0].clientX,a=e.touches[0].clientY,c=!0,this.addEventListener("touchmove",m,!1),this.addEventListener("touchend",g,!1),o(f))},r={reposition:function(){return this.each(function(){var t,s,i,o=e(this),n=o.data("enscroll"),r=function(e,t,n){e.style.left=t+"px",e.style.top=n+"px"};n&&(t=o.position(),i=n.corner,n.settings.verticalScrolling&&(s=n.verticalTrackWrapper,r(s,"right"===n.settings.verticalScrollerSide?t.left+o.outerWidth()-e(s).width()-a(this,"border-right-width"):t.left+a(this,"border-left-width"),t.top+a(this,"border-top-width"))),n.settings.horizontalScrolling&&(s=n.horizontalTrackWrapper,r(s,t.left+a(this,"border-left-width"),t.top+o.outerHeight()-e(s).height()-a(this,"border-bottom-width"))),i&&r(i,t.left+o.outerWidth()-e(i).outerWidth()-a(this,"border-right-width"),t.top+o.outerHeight()-e(i).outerHeight()-a(this,"border-bottom-width")))})},resize:function(){return this.each(function(){var n,s,o,i,a,c,l,d,u,h,m,f,p,g,v,b,r=e(this),t=r.data("enscroll");return!t||(n=t.settings,r.is(":visible")?(n.verticalScrolling&&(s=t.verticalTrackWrapper,f=r.innerHeight(),i=f/this.scrollHeight,a=e(s).find(".enscroll-track")[0],b=e(s).find("."+n.scrollUpButtonClass),v=e(s).find("."+n.scrollDownButtonClass),l=n.horizontalScrolling?f-e(t.horizontalTrackWrapper).find(".enscroll-track").outerHeight():f,l-=e(a).outerHeight()-e(a).height()+b.outerHeight()+v.outerHeight(),o=a.firstChild,h=Math.max(i*l,n.minScrollbarLength),h-=e(o).outerHeight()-e(o).height(),s.style.display="none",a.style.height=l+"px",o.style.height=h+"px",1>i&&(i=r.scrollTop()/(this.scrollHeight-r.height()),o.style.top=i*(l-h)+"px",s.style.display="block")),n.horizontalScrolling&&(s=t.horizontalTrackWrapper,u=r.innerWidth(),i=u/this.scrollWidth,a=e(s).find(".enscroll-track")[0],p=e(s).find("."+n.scrollLeftButtonClass),g=e(s).find("."+n.scrollRightButtonClass),c=n.verticalScrolling?u-e(t.verticalTrackWrapper).find(".enscroll-track").outerWidth():u,c-=e(a).outerWidth()-e(a).width()+p.outerWidth()+g.outerWidth(),o=a.firstChild,d=Math.max(i*c,n.minScrollbarLength),d-=e(o).outerWidth()-e(o).width(),s.style.display="none",a.style.width=c+"px",o.style.width=d+"px",1>i&&(i=r.scrollLeft()/(this.scrollWidth-r.width()),o.style.left=i*(c-d)+"px",s.style.display="block"),t._prybar&&(m=t._prybar,this.removeChild(m),n.verticalScrolling&&(m.style.width=this.scrollWidth+e(t.verticalTrackWrapper).find(".enscroll-track").outerWidth()+"px",this.appendChild(m)))),t.corner&&(t.corner.style.display=t.verticalTrackWrapper&&t.horizontalTrackWrapper&&e(t.verticalTrackWrapper).is(":visible")&&e(t.horizontalTrackWrapper).is(":visible")?"":"none")):(n.verticalScrolling&&(t.verticalTrackWrapper.style.display="none"),n.horizontalScrolling&&(t.horizontalTrackWrapper.style.display="none"),t.corner&&(t.corner.style.display="none")),void 0)})},startPolling:function(){return this.each(function(){var o,n=e(this).data("enscroll"),s=this,t=e(s),i=-1,a=-1,c=-1,l=-1,d=function(){if(n.settings.pollChanges){var m=s.scrollWidth,f=s.scrollHeight,e=t.width(),u=t.height(),h=t.offset();(n.settings.verticalScrolling&&(u!==a||f!==l)||n.settings.horizontalScrolling&&(e!==i||m!==c))&&(c=m,l=f,r.resize.call(t)),(o.left!==h.left||o.top!==h.top||e!==i||u!==a)&&(o=h,i=e,a=u,r.reposition.call(t)),setTimeout(d,350)}};n&&(n.settings.pollChanges=!0,l=s.scrollHeight,c=s.scrollWidth,o=t.offset(),d())})},stopPolling:function(){return this.each(function(){var t=e(this).data("enscroll");t&&(t.settings.pollChanges=!1)})},destroy:function(){return this.each(function(){var s,o,i=e(this),n=i.data("enscroll");n&&(r.stopPolling.call(i),o=n._mouseScrollHandler,n.settings.verticalScrolling&&(s=n.verticalTrackWrapper,e(s).remove(),s=null),n.settings.horizontalScrolling&&(s=n.horizontalTrackWrapper,e(s).remove(),s=null),n._fadeTimer&&clearTimeout(n._fadeTimer),n.corner&&e(n.corner).remove(),n._prybar&&n._prybar.parentNode&&n._prybar.parentNode===this&&e(n._prybar).remove(),this.setAttribute("style",n._style||""),n._hadTabIndex||i.removeAttr("tabindex"),i.off("scroll.enscroll.pane").off("keydown.enscroll.pane").off("mouseenter.enscroll.pane").off("mousedown.enscroll.pane").data("enscroll",null),this.removeEventListener?(this.removeEventListener("wheel",o,!1),this.removeEventListener("mousewheel",o,!1),this.removeEventListener("touchstart",v,!1)):this.detachEvent&&this.detachEvent("onmousewheel",o),e(t).off("resize.enscroll.window"))})}};e.fn.enscroll=function(s){var o;return r[s]?r[s].call(this):(o=e.extend({},O,s),this.each(function(){if(o.verticalScrolling||o.horizontalScrolling){var m,p,g,b,_,O,E,S,M,T,z,D,N,L,R,P,I,B,s=e(this),c=this,$=s.attr("style"),H=!0,F={position:"absolute","z-index":o.zIndex,margin:0,padding:0},A=function(e){w.call(c,e)},V=function(t,n){"string"==typeof n?e(t).html(n):t.appendChild(n)};if(o.verticalScrolling){m=n.createElement("div"),g=n.createElement("div"),E=n.createElement("a"),e(g).css("position","relative").addClass("enscroll-track").addClass(o.verticalTrackClass).appendTo(m),o.drawScrollButtons&&(B=n.createElement("a"),P=n.createElement("a"),e(B).css({display:"block","text-decoration":"none"}).attr("href","").html("&nbsp;").addClass(o.scrollUpButtonClass).on("click",function(){return u(c,-o.scrollIncrement),!1}).insertBefore(g),e(P).css({display:"block","text-decoration":"none"}).attr("href","").html("&nbsp;").on("click",function(){return u(c,o.scrollIncrement),!1}).addClass(o.scrollDownButtonClass).appendTo(m)),o.clickTrackToScroll&&e(g).on("click",function(t){t.target===this&&l(s,t.pageY>e(E).offset().top?s.height():-s.height())}),e(E).css({position:"absolute","z-index":1}).attr("href","").addClass(o.verticalHandleClass).mousedown({pane:this},y).click(function(){return!1}).appendTo(g),V(E,o.verticalHandleHTML),e(m).css(F).insertAfter(this),o.showOnHover&&e(m).css("opacity",0).on("mouseover.enscroll.vertical",function(){i.call(c,!1)}).on("mouseout.enscroll.vertical",function(){i.call(c)}),_=e(g).outerWidth(),o.addPaddingToPane&&(N="right"===o.verticalScrollerSide?{"padding-right":a(this,"padding-right")+_+"px"}:{"padding-left":a(this,"padding-left")+_+"px"},s.css(e.extend({width:s.width()-_+"px"},N)));try{D=parseInt(s.css("outline-width"),10),0!==D&&!isNaN(D)||"none"!==s.css("outline-style")||s.css("outline","none")}catch{s.css("outline","none")}}o.horizontalScrolling&&(b=n.createElement("div"),p=n.createElement("div"),O=n.createElement("a"),e(p).css({position:"relative","z-index":1}).addClass("enscroll-track").addClass(o.horizontalTrackClass).appendTo(b),o.drawScrollButtons&&(R=n.createElement("a"),I=n.createElement("a"),e(R).css("display","block").attr("href","").on("click",function(){return d(c,-o.scrollIncrement),!1}).addClass(o.scrollLeftButtonClass).insertBefore(p),e(I).css("display","block").attr("href","").on("click",function(){return d(c,o.scrollIncrement),!1}).addClass(o.scrollRightButtonClass).appendTo(b)),o.clickTrackToScroll&&e(p).on("click",function(t){t.target===this&&h(s,t.pageX>e(O).offset().left?s.width():-s.width())}),e(O).css({position:"absolute","z-index":1}).attr("href","").addClass(o.horizontalHandleClass).click(function(){return!1}).mousedown({pane:this},j).appendTo(p),V(O,o.horizontalHandleHTML),e(b).css(F).insertAfter(this),o.showOnHover&&e(b).css("opacity",0).on("mouseover.enscroll.horizontal",function(){i.call(c,!1)}).on("mouseout.enscroll.horizontal",function(){i.call(c)}),z=e(p).outerHeight(),o.addPaddingToPane&&s.css({height:s.height()-z+"px","padding-bottom":parseInt(s.css("padding-bottom"),10)+z+"px"}),M=document.createElement("div"),e(M).css({width:"1px",height:"1px",visibility:"hidden",padding:0,margin:"-1px"}).appendTo(this)),o.verticalScrolling&&o.horizontalScrolling&&o.drawCorner&&(S=n.createElement("div"),e(S).addClass(o.cornerClass).css(F).insertAfter(this)),L=s.attr("tabindex"),L||(s.attr("tabindex",0),H=!1);try{T=s.css("outline"),(!T||T.length<1)&&s.css("outline","none")}catch{s.css("outline","none")}s.on({"scroll.enscroll.pane":function(e){f.call(this,e)},"keydown.enscroll.pane":x,"mousedown.enscroll.pane":C}).css("overflow","hidden").data("enscroll",{settings:o,horizontalTrackWrapper:b,verticalTrackWrapper:m,corner:S,_prybar:M,_mouseScrollHandler:A,_hadTabIndex:H,_style:$,_scrollingX:!1,_scrollingY:!1,_startX:0,_startY:0,_endX:0,_endY:0,_duration:parseInt(o.easingDuration/16.66666,10),_scrollHeightNoPadding:k(this.nodeName)}),e(t).on("resize.enscroll.window",function(){r.reposition.call(s)}),o.showOnHover&&s.on("mouseenter.enscroll.pane",function(){i.call(this)}),this.addEventListener?("onwheel"in this||"WheelEvent"in t&&navigator.userAgent.toLowerCase().indexOf("msie")>=0?this.addEventListener("wheel",A,!1):"onmousewheel"in this&&this.addEventListener("mousewheel",A,!1),this.addEventListener("touchstart",v,!1)):this.attachEvent&&this.attachEvent("onmousewheel",A),o.pollChanges&&r.startPolling.call(s),r.resize.call(s),r.reposition.call(s)}}))}}(jQuery,window,document)